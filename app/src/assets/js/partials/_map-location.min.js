jQuery(document).ready(function(){function e(){function e(e,o,n){var a=$('<li><a href="#">'+e.name+"</a></li>"),l=new ymaps.Placemark(e.center,{balloonContent:e.name});o.add(l),a.appendTo(n).find("a").bind("click",function(){return l.balloon.isOpen()?l.balloon.close():l.balloon.open(),!1})}for(var o=new ymaps.Map("map",{center:[56.84,60.58],zoom:15,controls:[]}),n=$('<ul class="menu"/>'),a=0,l=groups.length;a<l;a++)!function(a){var l=$('<li><a href="#">'+a.name+"</a></li>"),t=new ymaps.GeoObjectCollection(null,{preset:a.style}),s=$('<ul class="submenu"/>');o.geoObjects.add(t),l.append(s).appendTo(n).find("a").bind("click",function(){t.getParent()?(o.geoObjects.remove(t),s.hide()):(o.geoObjects.add(t),s.show())});for(var i=0,c=a.items.length;i<c;i++)e(a.items[i],t,s)}(groups[a]);n.appendTo($(".map")),o.setBounds(o.geoObjects.getBounds())}$("div").is(".map--location")&&(ymaps.ready(e),$(".js-location-toggle").click(function(e){e.preventDefault(),$(".js-location-toggle.link--dashed .text").toggleClass("text--visible"),$(".js-location-toggle .icon").toggleClass("icon--arrow-down"),$(".js-location-toggle").toggleClass("js-location--visible"),$(".map .nav").toggleClass("nav--visible")}))});